<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mood Analysis</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-purple-200 to-pink-200 p-8">

<div class="max-w-4xl mx-auto">

  <a href="index.html" class="text-gray-700 underline">â† Back</a>

  <!-- Header -->
  <div class="text-center mt-6">
    <div id="emoji" class="text-8xl mb-4"></div>
    <h1 class="text-4xl font-bold mb-4">
      You're feeling <span id="moodLabel" class="capitalize"></span>
    </h1>
    <p id="tip" class="text-lg text-gray-700 mb-6"></p>
  </div>

  <!-- MUSIC SECTION -->
  <div class="bg-white/60 backdrop-blur-lg p-6 rounded-3xl shadow-lg mb-8 text-center">
  <h2 class="text-2xl font-semibold mb-4">ğŸµ Music Match</h2>

  <!-- Song Title -->
  <p id="musicText" class="mb-4 text-gray-700 font-medium"></p>

  <!-- Audio Player -->
  <audio id="audioPlayer" controls class="mx-auto hidden">
    <source id="audioSource" src="" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- Controls -->
  <div class="flex justify-center gap-4 mt-4">
    <button onclick="playMusic()"
      class="px-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition">
      â–¶ Play
    </button>

    <button onclick="nextSong()"
      class="px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition">
      â­ Next
    </button>

    <button onclick="shufflePlaylist()"
      class="px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition">
      ğŸ”€ Shuffle
    </button>
  </div>
</div>


  <!-- PLAN SECTION -->
  <div class="bg-white/60 backdrop-blur-lg p-6 rounded-3xl shadow-lg mb-8">
    <h2 class="text-2xl font-semibold mb-4 text-center">ğŸ“‹ Your Action Plan</h2>
    <ul id="planList" class="space-y-3 text-lg text-gray-800"></ul>
  </div>

  <!-- Pomodoro -->
  <div class="text-center bg-white/60 backdrop-blur-lg p-8 rounded-3xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-4">Pomodoro Timer â³</h2>
    <div id="timer" class="text-5xl font-bold mb-4">25:00</div>
    <button onclick="startTimer()" class="px-6 py-3 bg-purple-500 text-white rounded-xl mr-4">
      Start
    </button>
    <button onclick="resetTimer()" class="px-6 py-3 bg-gray-300 rounded-xl">
      Reset
    </button>
  </div>

</div>

<script>
const mood = localStorage.getItem("selectedMood");

const moodData = {
  sad: {
    emoji: "ğŸ˜”",
    tip: "Be gentle with yourself ğŸ’™",
    music: "Soft Piano & Rain Sounds",
    musicFile: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
    plan: [
      "ğŸŒ¿ Take a short walk",
      "ğŸ“ Journal your thoughts",
      "â˜• Have something warm",
      "ğŸ¨ Do something creative"
    ]
  },
  stressed: {
    emoji: "ğŸ˜°",
    tip: "Take a deep breath ğŸŒ¿",
    music: "Calming Meditation Music",
    musicFile: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
    plan: [
      "ğŸŒ¬ Try breathing exercise",
      "ğŸ“‹ List 3 small tasks",
      "â± Work for 25 minutes",
      "ğŸ’§ Drink water"
    ]
  },
  "low-energy": {
    emoji: "ğŸ˜´",
    tip: "Recharge and rest ğŸ”‹",
    music: "Gentle Acoustic Music",
    musicFile: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",
    plan: [
      "ğŸ’¤ Take a power nap",
      "ğŸš¶ Stretch your body",
      "ğŸ Eat a healthy snack",
      "ğŸ’§ Stay hydrated"
    ]
  },
  happy: {
    emoji: "ğŸ˜Š",
    tip: "Channel your energy âœ¨",
    music: "Upbeat Feel Good Music",
    musicFile: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",
    plan: [
      "ğŸ¯ Start your favorite task",
      "ğŸ¤ Connect with someone",
      "âœ¨ Set exciting goals",
      "ğŸ‰ Celebrate small wins"
    ]
  },
  motivated: {
    emoji: "ğŸš€",
    tip: "Youâ€™re unstoppable ğŸ”¥",
    music: "Focus Productivity Beats",
    musicFile: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",
    plan: [
      "ğŸ”¥ Tackle hardest task first",
      "â± Deep work session",
      "ğŸ“ˆ Track progress",
      "ğŸš« Avoid distractions"
    ]
  }
};

const data = moodData[mood];

document.getElementById("emoji").innerText = data.emoji;
document.getElementById("moodLabel").innerText = mood;
document.getElementById("tip").innerText = data.tip;
document.getElementById("musicText").innerText = data.music;

// Add Plan Items
const planList = document.getElementById("planList");
data.plan.forEach(item => {
  const li = document.createElement("li");
  li.innerText = item;
  planList.appendChild(li);
});

// Music play
function playMusic() {
  const audio = document.getElementById("audioPlayer");
  const source = document.getElementById("audioSource");

  source.src = data.musicFile;
  audio.load();
  audio.classList.remove("hidden");
  audio.play();
}

// Pomodoro
let time = 1500;
let interval;

function startTimer() {
  interval = setInterval(() => {
    if (time <= 0) {
      clearInterval(interval);
      return;
    }
    time--;
    updateDisplay();
  }, 1000);
}

function resetTimer() {
  clearInterval(interval);
  time = 1500;
  updateDisplay();
}

function updateDisplay() {
  const minutes = Math.floor(time / 60);
  const seconds = time % 60;
  document.getElementById("timer").innerText =
    String(minutes).padStart(2, '0') + ":" +
    String(seconds).padStart(2, '0');
}
</script>

</body>
</html>
